// Dark Mode Management
const DarkMode = {
    init() {
        // Check for saved preference or default to light mode
        const currentTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', currentTheme);
        
        // Update toggle button state
        const toggleBtn = document.getElementById('theme-toggle');
        if (toggleBtn) {
            toggleBtn.innerHTML = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            toggleBtn.setAttribute('aria-label', currentTheme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode');
        }
    },
    
    toggle() {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        
        const toggleBtn = document.getElementById('theme-toggle');
        if (toggleBtn) {
            toggleBtn.innerHTML = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            toggleBtn.setAttribute('aria-label', newTheme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode');
        }
        
        // Dispatch event for theme change to update charts
        window.dispatchEvent(new CustomEvent('themechange', { detail: { theme: newTheme } }));
    }
};

// Internationalization (i18n)
const i18n = {
    currentLocale: 'en',
    fallbackLocale: 'en',
    
    translations: {
        en: {
            // Common
            'app.name': 'blipee OS Retail Intelligence',
            'app.logout': 'Logout',
            'app.save': 'Save',
            'app.cancel': 'Cancel',
            'app.delete': 'Delete',
            'app.edit': 'Edit',
            'app.view': 'View',
            'app.search': 'Search',
            'app.filter': 'Filter',
            'app.export': 'Export',
            'app.import': 'Import',
            'app.settings': 'Settings',
            
            // Navigation
            'nav.dashboard': 'Dashboard',
            'nav.analytics': 'Analytics',
            'nav.sites': 'Sites',
            'nav.reports': 'Reports',
            'nav.settings': 'Settings',
            
            // Dashboard
            'dashboard.title': 'Dashboard',
            'dashboard.subtitle': 'Real-time overview of your retail operations',
            'dashboard.visitors_today': "Today's Visitors",
            'dashboard.revenue_today': "Today's Revenue",
            'dashboard.conversion_rate': 'Conversion Rate',
            'dashboard.capture_rate': 'Capture Rate',
            'dashboard.store_performance': 'Store Performance',
            'dashboard.recent_alerts': 'Recent Alerts',
            
            // Analytics
            'analytics.title': 'Analytics',
            'analytics.subtitle': 'Deep dive into your retail performance metrics and trends',
            'analytics.time_period': 'Time Period',
            'analytics.store': 'Store',
            'analytics.metric_type': 'Metric Type',
            'analytics.all_stores': 'All Stores',
            'analytics.visitor_trends': 'Visitor Trends',
            'analytics.revenue_by_store': 'Revenue by Store',
            
            // Sites
            'sites.title': 'Sites',
            'sites.subtitle': 'Manage your retail locations and monitoring devices',
            'sites.add_site': 'Add Site',
            'sites.import_sites': 'Import Sites',
            'sites.search_placeholder': 'Search sites...',
            'sites.all_status': 'All Status',
            'sites.online': 'Online',
            'sites.offline': 'Offline',
            
            // Reports
            'reports.title': 'Reports',
            'reports.subtitle': 'Generate, schedule, and manage your retail intelligence reports',
            'reports.create_report': 'Create Report',
            'reports.templates': 'Templates',
            'reports.scheduled': 'Scheduled',
            'reports.recent': 'Recent Reports',
            
            // Settings
            'settings.title': 'Settings',
            'settings.subtitle': 'Manage your account, team, and platform configuration',
            'settings.account': 'Account',
            'settings.notifications': 'Notifications',
            'settings.team': 'Team',
            'settings.api_keys': 'API Keys',
            
            // Login
            'login.title': 'Welcome to blipee',
            'login.subtitle': 'Enterprise Retail Intelligence Platform',
            'login.email': 'Email address',
            'login.password': 'Password',
            'login.remember_me': 'Remember me',
            'login.forgot_password': 'Forgot password?',
            'login.sign_in': 'Sign in',
            'login.or_continue_with': 'Or continue with',
            'login.sign_in_google': 'Sign in with Google',
            'login.sign_in_microsoft': 'Sign in with Microsoft',
            'login.security_notice': 'This is a secure system. All activities are monitored and recorded.',
            
            // Index/Mockups
            'index.title': 'blipee OS Mockups',
            'index.subtitle': 'Click on any mockup below to preview the page design.',
            'index.landing.title': 'Landing Page',
            'index.landing.desc': 'Professional marketing page with features and testimonials',
            'index.login.title': 'Login Page',
            'index.login.desc': 'Enterprise authentication with OAuth integration',
            'index.dashboard.title': 'Dashboard',
            'index.dashboard.desc': 'Main overview with KPIs and store performance metrics',
            'index.analytics.title': 'Analytics',
            'index.analytics.desc': 'Deep dive into retail performance metrics and trends',
            'index.sites.title': 'Sites',
            'index.sites.desc': 'Manage retail locations and monitoring devices',
            'index.reports.title': 'Reports',
            'index.reports.desc': 'Generate, schedule, and manage retail intelligence reports',
            'index.settings.title': 'Settings',
            'index.settings.desc': 'Account, team, and platform configuration',
            
            // Landing Page
            'landing.title': 'blipee OS - Enterprise Retail Intelligence Platform',
            'landing.nav.features': 'Features',
            'landing.nav.testimonials': 'Testimonials',
            'landing.nav.pricing': 'Pricing',
            'landing.nav.docs': 'Documentation',
            'landing.nav.signin': 'Sign In',
            'landing.nav.demo': 'Request Demo',
            'landing.hero.badge': 'Trusted by 500+ retail brands worldwide',
            'landing.hero.title': 'Transform Your Retail Operations with Real-Time Intelligence',
            'landing.hero.subtitle': 'Capture foot traffic, analyze customer behavior, and optimize store performance with our enterprise-grade retail analytics platform.',
            'landing.hero.cta.primary': 'Start Free Trial',
            'landing.hero.cta.secondary': 'Watch Demo',
            'landing.features.title': 'Everything You Need to Succeed',
            'landing.features.subtitle': 'Powerful features designed to help you understand and optimize your retail operations',
            'landing.features.traffic.title': 'Real-Time Foot Traffic',
            'landing.features.traffic.desc': 'Monitor customer flow in real-time with advanced people counting technology. Understand peak hours and optimize staffing.',
            'landing.features.analytics.title': 'Advanced Analytics',
            'landing.features.analytics.desc': 'Deep insights into customer behavior, conversion rates, and store performance with AI-powered analytics.',
            'landing.features.dashboard.title': 'Unified Dashboard',
            'landing.features.dashboard.desc': 'All your stores, all your data, in one powerful dashboard. Monitor performance across your entire retail network.',
            'landing.features.experience.title': 'Customer Experience',
            'landing.features.experience.desc': 'Improve customer satisfaction with data-driven insights into shopping patterns and preferences.',
            'landing.features.security.title': 'Enterprise Security',
            'landing.features.security.desc': 'SOC 2 Type II certified with end-to-end encryption, GDPR compliance, and role-based access control.',
            'landing.features.integration.title': 'Easy Integration',
            'landing.features.integration.desc': 'Seamlessly integrate with your existing POS, CRM, and business intelligence tools via our robust API.',
            'landing.metrics.accuracy': 'Accuracy Rate',
            'landing.metrics.customers': 'Happy Customers',
            'landing.metrics.visitors': 'Visitors Tracked Daily',
            'landing.metrics.uptime': 'Uptime SLA',
            'landing.testimonials.title': 'Loved by Retail Leaders',
            'landing.testimonials.subtitle': 'See what our customers have to say about transforming their retail operations',
            'landing.testimonials.1.content': '"blipee OS has revolutionized how we understand our customers. The real-time insights have helped us increase conversion rates by 23% in just 6 months."',
            'landing.testimonials.1.name': 'Sarah Mitchell',
            'landing.testimonials.1.title': 'VP of Retail Operations, Fashion Forward',
            'landing.testimonials.2.content': '"The platform\'s ease of use and powerful analytics have made it indispensable for our multi-store operations. ROI was achieved within 3 months."',
            'landing.testimonials.2.name': 'James Chen',
            'landing.testimonials.2.title': 'CEO, TechStyle Retail Group',
            'landing.testimonials.3.content': '"Outstanding support team and a product that delivers on its promises. Our staff scheduling efficiency improved by 40%."',
            'landing.testimonials.3.name': 'Emma Parker',
            'landing.testimonials.3.title': 'Director of Operations, Urban Outfitters',
            'landing.cta.title': 'Ready to Transform Your Retail Business?',
            'landing.cta.subtitle': 'Join hundreds of successful retailers already using blipee OS',
            'landing.cta.demo': 'Schedule a Demo',
            'landing.cta.trial': 'Start 30-Day Free Trial',
            'landing.footer.product.features': 'Features',
            'landing.footer.product.pricing': 'Pricing',
            'landing.footer.product.api': 'API Documentation',
            'landing.footer.product.integrations': 'Integrations',
            'landing.footer.company.about': 'About Us',
            'landing.footer.company.careers': 'Careers',
            'landing.footer.company.blog': 'Blog',
            'landing.footer.company.press': 'Press',
            'landing.footer.resources.docs': 'Documentation',
            'landing.footer.resources.guides': 'Guides',
            'landing.footer.resources.webinars': 'Webinars',
            'landing.footer.resources.support': 'Support Center',
            'landing.footer.legal.privacy': 'Privacy Policy',
            'landing.footer.legal.terms': 'Terms of Service',
            'landing.footer.legal.security': 'Security',
            'landing.footer.legal.gdpr': 'GDPR'
        },
        
        es: {
            // Common
            'app.name': 'blipee OS Inteligencia Retail',
            'app.logout': 'Cerrar sesi√≥n',
            'app.save': 'Guardar',
            'app.cancel': 'Cancelar',
            'app.delete': 'Eliminar',
            'app.edit': 'Editar',
            'app.view': 'Ver',
            'app.search': 'Buscar',
            'app.filter': 'Filtrar',
            'app.export': 'Exportar',
            'app.import': 'Importar',
            'app.settings': 'Configuraci√≥n',
            
            // Navigation
            'nav.dashboard': 'Panel',
            'nav.analytics': 'An√°lisis',
            'nav.sites': 'Sitios',
            'nav.reports': 'Informes',
            'nav.settings': 'Configuraci√≥n',
            
            // Dashboard
            'dashboard.title': 'Panel de Control',
            'dashboard.subtitle': 'Vista en tiempo real de sus operaciones de retail',
            'dashboard.visitors_today': 'Visitantes de hoy',
            'dashboard.revenue_today': 'Ingresos de hoy',
            'dashboard.conversion_rate': 'Tasa de conversi√≥n',
            'dashboard.capture_rate': 'Tasa de captura',
            'dashboard.store_performance': 'Rendimiento de tiendas',
            'dashboard.recent_alerts': 'Alertas recientes',
            
            // Analytics
            'analytics.title': 'An√°lisis',
            'analytics.subtitle': 'An√°lisis profundo de sus m√©tricas y tendencias',
            'analytics.time_period': 'Per√≠odo',
            'analytics.store': 'Tienda',
            'analytics.metric_type': 'Tipo de m√©trica',
            'analytics.all_stores': 'Todas las tiendas',
            'analytics.visitor_trends': 'Tendencias de visitantes',
            'analytics.revenue_by_store': 'Ingresos por tienda',
            
            // Sites
            'sites.title': 'Sitios',
            'sites.subtitle': 'Gestione sus ubicaciones y dispositivos de monitoreo',
            'sites.add_site': 'Agregar sitio',
            'sites.import_sites': 'Importar sitios',
            'sites.search_placeholder': 'Buscar sitios...',
            'sites.all_status': 'Todos los estados',
            'sites.online': 'En l√≠nea',
            'sites.offline': 'Fuera de l√≠nea',
            
            // Reports
            'reports.title': 'Informes',
            'reports.subtitle': 'Genere, programe y administre sus informes',
            'reports.create_report': 'Crear informe',
            'reports.templates': 'Plantillas',
            'reports.scheduled': 'Programados',
            'reports.recent': 'Informes recientes',
            
            // Settings
            'settings.title': 'Configuraci√≥n',
            'settings.subtitle': 'Administre su cuenta, equipo y configuraci√≥n',
            'settings.account': 'Cuenta',
            'settings.notifications': 'Notificaciones',
            'settings.team': 'Equipo',
            'settings.api_keys': 'Claves API',
            
            // Login
            'login.title': 'Bienvenido a blipee',
            'login.subtitle': 'Plataforma de Inteligencia Retail Empresarial',
            'login.email': 'Correo electr√≥nico',
            'login.password': 'Contrase√±a',
            'login.remember_me': 'Recordarme',
            'login.forgot_password': '¬øOlvid√≥ su contrase√±a?',
            'login.sign_in': 'Iniciar sesi√≥n',
            'login.or_continue_with': 'O continuar con',
            'login.sign_in_google': 'Iniciar sesi√≥n con Google',
            'login.sign_in_microsoft': 'Iniciar sesi√≥n con Microsoft',
            'login.security_notice': 'Este es un sistema seguro. Todas las actividades son monitoreadas y registradas.',
            
            // Index/Mockups
            'index.title': 'Maquetas de blipee OS',
            'index.subtitle': 'Haga clic en cualquier maqueta para ver el dise√±o de la p√°gina.',
            'index.landing.title': 'P√°gina de Destino',
            'index.landing.desc': 'P√°gina de marketing profesional con caracter√≠sticas y testimonios',
            'index.login.title': 'P√°gina de Inicio de Sesi√≥n',
            'index.login.desc': 'Autenticaci√≥n empresarial con integraci√≥n OAuth',
            'index.dashboard.title': 'Panel de Control',
            'index.dashboard.desc': 'Vista general con KPIs y m√©tricas de rendimiento',
            'index.analytics.title': 'An√°lisis',
            'index.analytics.desc': 'An√°lisis profundo de m√©tricas y tendencias',
            'index.sites.title': 'Sitios',
            'index.sites.desc': 'Gestione ubicaciones y dispositivos de monitoreo',
            'index.reports.title': 'Informes',
            'index.reports.desc': 'Genere, programe y administre informes',
            'index.settings.title': 'Configuraci√≥n',
            'index.settings.desc': 'Configuraci√≥n de cuenta, equipo y plataforma',
            
            // Landing Page
            'landing.title': 'blipee OS - Plataforma de Inteligencia Retail Empresarial',
            'landing.nav.features': 'Caracter√≠sticas',
            'landing.nav.testimonials': 'Testimonios',
            'landing.nav.pricing': 'Precios',
            'landing.nav.docs': 'Documentaci√≥n',
            'landing.nav.signin': 'Iniciar Sesi√≥n',
            'landing.nav.demo': 'Solicitar Demo',
            'landing.hero.badge': 'Confiado por m√°s de 500 marcas minoristas en todo el mundo',
            'landing.hero.title': 'Transforma Tus Operaciones Minoristas con Inteligencia en Tiempo Real',
            'landing.hero.subtitle': 'Captura el tr√°fico peatonal, analiza el comportamiento del cliente y optimiza el rendimiento de la tienda con nuestra plataforma de an√°lisis minorista de nivel empresarial.',
            'landing.hero.cta.primary': 'Iniciar Prueba Gratuita',
            'landing.hero.cta.secondary': 'Ver Demo',
            'landing.features.title': 'Todo lo que Necesitas para Tener √âxito',
            'landing.features.subtitle': 'Caracter√≠sticas poderosas dise√±adas para ayudarte a entender y optimizar tus operaciones minoristas',
            'landing.features.traffic.title': 'Tr√°fico Peatonal en Tiempo Real',
            'landing.features.traffic.desc': 'Monitorea el flujo de clientes en tiempo real con tecnolog√≠a avanzada de conteo de personas. Comprende las horas pico y optimiza el personal.',
            'landing.features.analytics.title': 'An√°lisis Avanzado',
            'landing.features.analytics.desc': 'Informaci√≥n profunda sobre el comportamiento del cliente, tasas de conversi√≥n y rendimiento de la tienda con an√°lisis impulsado por IA.',
            'landing.features.dashboard.title': 'Panel Unificado',
            'landing.features.dashboard.desc': 'Todas tus tiendas, todos tus datos, en un poderoso panel. Monitorea el rendimiento en toda tu red minorista.',
            'landing.features.experience.title': 'Experiencia del Cliente',
            'landing.features.experience.desc': 'Mejora la satisfacci√≥n del cliente con informaci√≥n basada en datos sobre patrones de compra y preferencias.',
            'landing.features.security.title': 'Seguridad Empresarial',
            'landing.features.security.desc': 'Certificado SOC 2 Tipo II con cifrado de extremo a extremo, cumplimiento GDPR y control de acceso basado en roles.',
            'landing.features.integration.title': 'Integraci√≥n F√°cil',
            'landing.features.integration.desc': 'Integra sin problemas con tu POS, CRM y herramientas de inteligencia empresarial existentes a trav√©s de nuestra robusta API.',
            'landing.metrics.accuracy': 'Tasa de Precisi√≥n',
            'landing.metrics.customers': 'Clientes Satisfechos',
            'landing.metrics.visitors': 'Visitantes Rastreados Diariamente',
            'landing.metrics.uptime': 'SLA de Tiempo de Actividad',
            'landing.testimonials.title': 'Amado por L√≠deres Minoristas',
            'landing.testimonials.subtitle': 'Mira lo que nuestros clientes dicen sobre la transformaci√≥n de sus operaciones minoristas',
            'landing.testimonials.1.content': '"blipee OS ha revolucionado c√≥mo entendemos a nuestros clientes. Los conocimientos en tiempo real nos han ayudado a aumentar las tasas de conversi√≥n en un 23% en solo 6 meses."',
            'landing.testimonials.1.name': 'Sarah Mitchell',
            'landing.testimonials.1.title': 'VP de Operaciones Minoristas, Fashion Forward',
            'landing.testimonials.2.content': '"La facilidad de uso de la plataforma y los potentes an√°lisis la han hecho indispensable para nuestras operaciones multi-tienda. El ROI se logr√≥ en 3 meses."',
            'landing.testimonials.2.name': 'James Chen',
            'landing.testimonials.2.title': 'CEO, TechStyle Retail Group',
            'landing.testimonials.3.content': '"Excelente equipo de soporte y un producto que cumple sus promesas. Nuestra eficiencia de programaci√≥n de personal mejor√≥ en un 40%."',
            'landing.testimonials.3.name': 'Emma Parker',
            'landing.testimonials.3.title': 'Directora de Operaciones, Urban Outfitters',
            'landing.cta.title': '¬øListo para Transformar tu Negocio Minorista?',
            'landing.cta.subtitle': '√önete a cientos de minoristas exitosos que ya usan blipee OS',
            'landing.cta.demo': 'Programar una Demo',
            'landing.cta.trial': 'Iniciar Prueba Gratuita de 30 D√≠as',
            'landing.footer.product.features': 'Caracter√≠sticas',
            'landing.footer.product.pricing': 'Precios',
            'landing.footer.product.api': 'Documentaci√≥n API',
            'landing.footer.product.integrations': 'Integraciones',
            'landing.footer.company.about': 'Acerca de Nosotros',
            'landing.footer.company.careers': 'Carreras',
            'landing.footer.company.blog': 'Blog',
            'landing.footer.company.press': 'Prensa',
            'landing.footer.resources.docs': 'Documentaci√≥n',
            'landing.footer.resources.guides': 'Gu√≠as',
            'landing.footer.resources.webinars': 'Webinars',
            'landing.footer.resources.support': 'Centro de Soporte',
            'landing.footer.legal.privacy': 'Pol√≠tica de Privacidad',
            'landing.footer.legal.terms': 'T√©rminos de Servicio',
            'landing.footer.legal.security': 'Seguridad',
            'landing.footer.legal.gdpr': 'GDPR'
        },
        
        fr: {
            // Common
            'app.name': 'blipee OS Intelligence Retail',
            'app.logout': 'D√©connexion',
            'app.save': 'Enregistrer',
            'app.cancel': 'Annuler',
            'app.delete': 'Supprimer',
            'app.edit': 'Modifier',
            'app.view': 'Voir',
            'app.search': 'Rechercher',
            'app.filter': 'Filtrer',
            'app.export': 'Exporter',
            'app.import': 'Importer',
            'app.settings': 'Param√®tres',
            
            // Navigation
            'nav.dashboard': 'Tableau de bord',
            'nav.analytics': 'Analytique',
            'nav.sites': 'Sites',
            'nav.reports': 'Rapports',
            'nav.settings': 'Param√®tres',
            
            // Dashboard
            'dashboard.title': 'Tableau de bord',
            'dashboard.subtitle': 'Vue en temps r√©el de vos op√©rations de vente au d√©tail',
            'dashboard.visitors_today': "Visiteurs d'aujourd'hui",
            'dashboard.revenue_today': "Revenus d'aujourd'hui",
            'dashboard.conversion_rate': 'Taux de conversion',
            'dashboard.capture_rate': 'Taux de capture',
            'dashboard.store_performance': 'Performance des magasins',
            'dashboard.recent_alerts': 'Alertes r√©centes',
            
            // Index/Mockups
            'index.title': 'Maquettes blipee OS',
            'index.subtitle': 'Cliquez sur n\'importe quelle maquette pour pr√©visualiser la conception de la page.',
            'index.landing.title': 'Page d\'Accueil',
            'index.landing.desc': 'Page de marketing professionnelle avec fonctionnalit√©s et t√©moignages',
            'index.login.title': 'Page de Connexion',
            'index.login.desc': 'Authentification d\'entreprise avec int√©gration OAuth',
            'index.dashboard.title': 'Tableau de bord',
            'index.dashboard.desc': 'Vue d\'ensemble avec KPI et m√©triques de performance',
            'index.analytics.title': 'Analytique',
            'index.analytics.desc': 'Analyse approfondie des m√©triques et tendances',
            'index.sites.title': 'Sites',
            'index.sites.desc': 'G√©rez les emplacements et les dispositifs de surveillance',
            'index.reports.title': 'Rapports',
            'index.reports.desc': 'G√©n√©rez, planifiez et g√©rez les rapports',
            'index.settings.title': 'Param√®tres',
            'index.settings.desc': 'Configuration du compte, de l\'√©quipe et de la plateforme',
            
            // Landing Page
            'landing.title': 'blipee OS - Plateforme d\'Intelligence Retail d\'Entreprise',
            'landing.nav.features': 'Fonctionnalit√©s',
            'landing.nav.testimonials': 'T√©moignages',
            'landing.nav.pricing': 'Tarifs',
            'landing.nav.docs': 'Documentation',
            'landing.nav.signin': 'Se Connecter',
            'landing.nav.demo': 'Demander une D√©mo',
            'landing.hero.badge': 'Fait confiance par plus de 500 marques de vente au d√©tail dans le monde',
            'landing.hero.title': 'Transformez Vos Op√©rations de Vente au D√©tail avec l\'Intelligence en Temps R√©el',
            'landing.hero.subtitle': 'Capturez le trafic pi√©tonnier, analysez le comportement des clients et optimisez les performances des magasins avec notre plateforme d\'analyse de vente au d√©tail de niveau entreprise.',
            'landing.hero.cta.primary': 'Commencer l\'Essai Gratuit',
            'landing.hero.cta.secondary': 'Voir la D√©mo',
            'landing.features.title': 'Tout ce Dont Vous Avez Besoin pour R√©ussir',
            'landing.features.subtitle': 'Des fonctionnalit√©s puissantes con√ßues pour vous aider √† comprendre et optimiser vos op√©rations de vente au d√©tail',
            'landing.features.traffic.title': 'Trafic Pi√©tonnier en Temps R√©el',
            'landing.features.traffic.desc': 'Surveillez le flux de clients en temps r√©el avec une technologie avanc√©e de comptage de personnes. Comprenez les heures de pointe et optimisez le personnel.',
            'landing.features.analytics.title': 'Analyses Avanc√©es',
            'landing.features.analytics.desc': 'Des informations approfondies sur le comportement des clients, les taux de conversion et les performances des magasins avec des analyses aliment√©es par l\'IA.',
            'landing.features.dashboard.title': 'Tableau de Bord Unifi√©',
            'landing.features.dashboard.desc': 'Tous vos magasins, toutes vos donn√©es, dans un seul tableau de bord puissant. Surveillez les performances sur l\'ensemble de votre r√©seau de vente au d√©tail.',
            'landing.features.experience.title': 'Exp√©rience Client',
            'landing.features.experience.desc': 'Am√©liorez la satisfaction client avec des informations bas√©es sur les donn√©es sur les habitudes d\'achat et les pr√©f√©rences.',
            'landing.features.security.title': 'S√©curit√© d\'Entreprise',
            'landing.features.security.desc': 'Certifi√© SOC 2 Type II avec chiffrement de bout en bout, conformit√© RGPD et contr√¥le d\'acc√®s bas√© sur les r√¥les.',
            'landing.features.integration.title': 'Int√©gration Facile',
            'landing.features.integration.desc': 'Int√©grez facilement avec vos outils POS, CRM et business intelligence existants via notre API robuste.',
            'landing.metrics.accuracy': 'Taux de Pr√©cision',
            'landing.metrics.customers': 'Clients Satisfaits',
            'landing.metrics.visitors': 'Visiteurs Suivis Quotidiennement',
            'landing.metrics.uptime': 'SLA de Disponibilit√©',
            'landing.testimonials.title': 'Aim√© par les Leaders du Retail',
            'landing.testimonials.subtitle': 'D√©couvrez ce que nos clients disent sur la transformation de leurs op√©rations de vente au d√©tail',
            'landing.testimonials.1.content': '"blipee OS a r√©volutionn√© notre compr√©hension de nos clients. Les informations en temps r√©el nous ont aid√©s √† augmenter les taux de conversion de 23% en seulement 6 mois."',
            'landing.testimonials.1.name': 'Sarah Mitchell',
            'landing.testimonials.1.title': 'VP Op√©rations Retail, Fashion Forward',
            'landing.testimonials.2.content': '"La facilit√© d\'utilisation de la plateforme et ses analyses puissantes l\'ont rendue indispensable pour nos op√©rations multi-magasins. Le ROI a √©t√© atteint en 3 mois."',
            'landing.testimonials.2.name': 'James Chen',
            'landing.testimonials.2.title': 'PDG, TechStyle Retail Group',
            'landing.testimonials.3.content': '"√âquipe de support exceptionnelle et un produit qui tient ses promesses. Notre efficacit√© de planification du personnel s\'est am√©lior√©e de 40%."',
            'landing.testimonials.3.name': 'Emma Parker',
            'landing.testimonials.3.title': 'Directrice des Op√©rations, Urban Outfitters',
            'landing.cta.title': 'Pr√™t √† Transformer Votre Entreprise de Vente au D√©tail?',
            'landing.cta.subtitle': 'Rejoignez des centaines de d√©taillants prosp√®res qui utilisent d√©j√† blipee OS',
            'landing.cta.demo': 'Planifier une D√©mo',
            'landing.cta.trial': 'Commencer l\'Essai Gratuit de 30 Jours',
            'landing.footer.product.features': 'Fonctionnalit√©s',
            'landing.footer.product.pricing': 'Tarifs',
            'landing.footer.product.api': 'Documentation API',
            'landing.footer.product.integrations': 'Int√©grations',
            'landing.footer.company.about': '√Ä Propos de Nous',
            'landing.footer.company.careers': 'Carri√®res',
            'landing.footer.company.blog': 'Blog',
            'landing.footer.company.press': 'Presse',
            'landing.footer.resources.docs': 'Documentation',
            'landing.footer.resources.guides': 'Guides',
            'landing.footer.resources.webinars': 'Webinaires',
            'landing.footer.resources.support': 'Centre de Support',
            'landing.footer.legal.privacy': 'Politique de Confidentialit√©',
            'landing.footer.legal.terms': 'Conditions d\'Utilisation',
            'landing.footer.legal.security': 'S√©curit√©',
            'landing.footer.legal.gdpr': 'RGPD'
        },
        
        pt: {
            // Common
            'app.name': 'blipee OS Intelig√™ncia de Retalho',
            'app.logout': 'Terminar sess√£o',
            'app.save': 'Guardar',
            'app.cancel': 'Cancelar',
            'app.delete': 'Eliminar',
            'app.edit': 'Editar',
            'app.view': 'Ver',
            'app.search': 'Pesquisar',
            'app.filter': 'Filtrar',
            'app.export': 'Exportar',
            'app.import': 'Importar',
            'app.settings': 'Defini√ß√µes',
            
            // Navigation
            'nav.dashboard': 'Painel',
            'nav.analytics': 'An√°lises',
            'nav.sites': 'Lojas',
            'nav.reports': 'Relat√≥rios',
            'nav.settings': 'Defini√ß√µes',
            
            // Dashboard
            'dashboard.title': 'Painel de Controlo',
            'dashboard.subtitle': 'Vis√£o em tempo real das suas opera√ß√µes de retalho',
            'dashboard.visitors_today': 'Visitantes de Hoje',
            'dashboard.revenue_today': 'Receita de Hoje',
            'dashboard.conversion_rate': 'Taxa de Convers√£o',
            'dashboard.capture_rate': 'Taxa de Captura',
            'dashboard.store_performance': 'Desempenho das Lojas',
            'dashboard.recent_alerts': 'Alertas Recentes',
            
            // Analytics
            'analytics.title': 'An√°lises',
            'analytics.subtitle': 'An√°lise aprofundada das suas m√©tricas e tend√™ncias de retalho',
            'analytics.time_period': 'Per√≠odo',
            'analytics.store': 'Loja',
            'analytics.metric_type': 'Tipo de M√©trica',
            'analytics.all_stores': 'Todas as Lojas',
            'analytics.visitor_trends': 'Tend√™ncias de Visitantes',
            'analytics.revenue_by_store': 'Receita por Loja',
            
            // Sites
            'sites.title': 'Lojas',
            'sites.subtitle': 'Gerir as suas localiza√ß√µes e dispositivos de monitoriza√ß√£o',
            'sites.add_site': 'Adicionar Loja',
            'sites.import_sites': 'Importar Lojas',
            'sites.search_placeholder': 'Pesquisar lojas...',
            'sites.all_status': 'Todos os Estados',
            'sites.online': 'Online',
            'sites.offline': 'Offline',
            
            // Reports
            'reports.title': 'Relat√≥rios',
            'reports.subtitle': 'Gerar, agendar e gerir os seus relat√≥rios de intelig√™ncia de retalho',
            'reports.create_report': 'Criar Relat√≥rio',
            'reports.templates': 'Modelos',
            'reports.scheduled': 'Agendados',
            'reports.recent': 'Relat√≥rios Recentes',
            
            // Settings
            'settings.title': 'Defini√ß√µes',
            'settings.subtitle': 'Gerir a sua conta, equipa e configura√ß√£o da plataforma',
            'settings.account': 'Conta',
            'settings.notifications': 'Notifica√ß√µes',
            'settings.team': 'Equipa',
            'settings.api_keys': 'Chaves API',
            
            // Login
            'login.title': 'Bem-vindo ao blipee',
            'login.subtitle': 'Plataforma de Intelig√™ncia de Retalho Empresarial',
            'login.email': 'Endere√ßo de email',
            'login.password': 'Palavra-passe',
            'login.remember_me': 'Lembrar-me',
            'login.forgot_password': 'Esqueceu-se da palavra-passe?',
            'login.sign_in': 'Iniciar sess√£o',
            'login.or_continue_with': 'Ou continuar com',
            'login.sign_in_google': 'Entrar com Google',
            'login.sign_in_microsoft': 'Entrar com Microsoft',
            'login.security_notice': 'Este √© um sistema seguro. Todas as atividades s√£o monitorizadas e registadas.',
            
            // Index/Mockups
            'index.title': 'Maquetes blipee OS',
            'index.subtitle': 'Clique em qualquer maquete para pr√©-visualizar o design da p√°gina.',
            'index.landing.title': 'P√°gina Inicial',
            'index.landing.desc': 'P√°gina de marketing profissional com funcionalidades e testemunhos',
            'index.login.title': 'P√°gina de In√≠cio de Sess√£o',
            'index.login.desc': 'Autentica√ß√£o empresarial com integra√ß√£o OAuth',
            'index.dashboard.title': 'Painel de Controlo',
            'index.dashboard.desc': 'Vis√£o geral com KPIs e m√©tricas de desempenho',
            'index.analytics.title': 'An√°lises',
            'index.analytics.desc': 'An√°lise aprofundada de m√©tricas e tend√™ncias',
            'index.sites.title': 'Lojas',
            'index.sites.desc': 'Gerir localiza√ß√µes e dispositivos de monitoriza√ß√£o',
            'index.reports.title': 'Relat√≥rios',
            'index.reports.desc': 'Gerar, agendar e gerir relat√≥rios',
            'index.settings.title': 'Defini√ß√µes',
            'index.settings.desc': 'Configura√ß√£o de conta, equipa e plataforma',
            
            // Landing Page
            'landing.title': 'blipee OS - Plataforma de Intelig√™ncia de Retalho Empresarial',
            'landing.nav.features': 'Funcionalidades',
            'landing.nav.testimonials': 'Testemunhos',
            'landing.nav.pricing': 'Pre√ßos',
            'landing.nav.docs': 'Documenta√ß√£o',
            'landing.nav.signin': 'Iniciar Sess√£o',
            'landing.nav.demo': 'Solicitar Demonstra√ß√£o',
            'landing.hero.badge': 'Confiado por mais de 500 marcas de retalho em todo o mundo',
            'landing.hero.title': 'Transforme as Suas Opera√ß√µes de Retalho com Intelig√™ncia em Tempo Real',
            'landing.hero.subtitle': 'Capture o tr√°fego pedonal, analise o comportamento do cliente e otimize o desempenho da loja com a nossa plataforma de an√°lise de retalho de n√≠vel empresarial.',
            'landing.hero.cta.primary': 'Iniciar Teste Gratuito',
            'landing.hero.cta.secondary': 'Ver Demonstra√ß√£o',
            'landing.features.title': 'Tudo o que Precisa para Ter Sucesso',
            'landing.features.subtitle': 'Funcionalidades poderosas concebidas para ajud√°-lo a compreender e otimizar as suas opera√ß√µes de retalho',
            'landing.features.traffic.title': 'Tr√°fego Pedonal em Tempo Real',
            'landing.features.traffic.desc': 'Monitorize o fluxo de clientes em tempo real com tecnologia avan√ßada de contagem de pessoas. Compreenda as horas de pico e otimize o pessoal.',
            'landing.features.analytics.title': 'An√°lises Avan√ßadas',
            'landing.features.analytics.desc': 'Insights profundos sobre o comportamento do cliente, taxas de convers√£o e desempenho da loja com an√°lises alimentadas por IA.',
            'landing.features.dashboard.title': 'Painel Unificado',
            'landing.features.dashboard.desc': 'Todas as suas lojas, todos os seus dados, num painel poderoso. Monitorize o desempenho em toda a sua rede de retalho.',
            'landing.features.experience.title': 'Experi√™ncia do Cliente',
            'landing.features.experience.desc': 'Melhore a satisfa√ß√£o do cliente com insights baseados em dados sobre padr√µes de compra e prefer√™ncias.',
            'landing.features.security.title': 'Seguran√ßa Empresarial',
            'landing.features.security.desc': 'Certificado SOC 2 Tipo II com encripta√ß√£o ponta a ponta, conformidade RGPD e controlo de acesso baseado em fun√ß√µes.',
            'landing.features.integration.title': 'Integra√ß√£o F√°cil',
            'landing.features.integration.desc': 'Integre facilmente com os seus sistemas POS, CRM e ferramentas de business intelligence existentes atrav√©s da nossa API robusta.',
            'landing.metrics.accuracy': 'Taxa de Precis√£o',
            'landing.metrics.customers': 'Clientes Satisfeitos',
            'landing.metrics.visitors': 'Visitantes Rastreados Diariamente',
            'landing.metrics.uptime': 'SLA de Disponibilidade',
            'landing.testimonials.title': 'Adorado por L√≠deres de Retalho',
            'landing.testimonials.subtitle': 'Veja o que os nossos clientes dizem sobre a transforma√ß√£o das suas opera√ß√µes de retalho',
            'landing.testimonials.1.content': '"O blipee OS revolucionou a forma como compreendemos os nossos clientes. Os insights em tempo real ajudaram-nos a aumentar as taxas de convers√£o em 23% em apenas 6 meses."',
            'landing.testimonials.1.name': 'Sarah Mitchell',
            'landing.testimonials.1.title': 'VP de Opera√ß√µes de Retalho, Fashion Forward',
            'landing.testimonials.2.content': '"A facilidade de utiliza√ß√£o da plataforma e as an√°lises poderosas tornaram-na indispens√°vel para as nossas opera√ß√µes multi-loja. O ROI foi alcan√ßado em 3 meses."',
            'landing.testimonials.2.name': 'James Chen',
            'landing.testimonials.2.title': 'CEO, TechStyle Retail Group',
            'landing.testimonials.3.content': '"Equipa de suporte excecional e um produto que cumpre as suas promessas. A nossa efici√™ncia de agendamento de pessoal melhorou 40%."',
            'landing.testimonials.3.name': 'Emma Parker',
            'landing.testimonials.3.title': 'Diretora de Opera√ß√µes, Urban Outfitters',
            'landing.cta.title': 'Pronto para Transformar o Seu Neg√≥cio de Retalho?',
            'landing.cta.subtitle': 'Junte-se a centenas de retalhistas bem-sucedidos que j√° utilizam o blipee OS',
            'landing.cta.demo': 'Agendar Demonstra√ß√£o',
            'landing.cta.trial': 'Iniciar Teste Gratuito de 30 Dias',
            'landing.footer.product.features': 'Funcionalidades',
            'landing.footer.product.pricing': 'Pre√ßos',
            'landing.footer.product.api': 'Documenta√ß√£o API',
            'landing.footer.product.integrations': 'Integra√ß√µes',
            'landing.footer.company.about': 'Sobre N√≥s',
            'landing.footer.company.careers': 'Carreiras',
            'landing.footer.company.blog': 'Blog',
            'landing.footer.company.press': 'Imprensa',
            'landing.footer.resources.docs': 'Documenta√ß√£o',
            'landing.footer.resources.guides': 'Guias',
            'landing.footer.resources.webinars': 'Webinars',
            'landing.footer.resources.support': 'Centro de Suporte',
            'landing.footer.legal.privacy': 'Pol√≠tica de Privacidade',
            'landing.footer.legal.terms': 'Termos de Servi√ßo',
            'landing.footer.legal.security': 'Seguran√ßa',
            'landing.footer.legal.gdpr': 'RGPD'
        }
    },
    
    init() {
        // Get saved locale or use browser locale
        const savedLocale = localStorage.getItem('locale');
        const browserLocale = navigator.language.split('-')[0];
        
        this.currentLocale = savedLocale || (this.translations[browserLocale] ? browserLocale : this.fallbackLocale);
        this.updatePage();
    },
    
    setLocale(locale) {
        if (this.translations[locale]) {
            this.currentLocale = locale;
            localStorage.setItem('locale', locale);
            this.updatePage();
        }
    },
    
    t(key) {
        return this.translations[this.currentLocale]?.[key] || 
               this.translations[this.fallbackLocale]?.[key] || 
               key;
    },
    
    updatePage() {
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            element.textContent = this.t(key);
        });
        
        // Update all elements with data-i18n-placeholder attribute
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            element.setAttribute('placeholder', this.t(key));
        });
        
        // Update all elements with data-i18n-title attribute
        document.querySelectorAll('[data-i18n-title]').forEach(element => {
            const key = element.getAttribute('data-i18n-title');
            element.setAttribute('title', this.t(key));
        });
        
        // Update document title if it has data-i18n-page-title
        const pageTitle = document.querySelector('[data-i18n-page-title]');
        if (pageTitle) {
            const key = pageTitle.getAttribute('data-i18n-page-title');
            document.title = this.t(key) + ' - ' + this.t('app.name');
        }
        
        // Update locale selector if exists
        const localeSelector = document.getElementById('locale-selector');
        if (localeSelector) {
            localeSelector.value = this.currentLocale;
        }
    }
};

// Initialize on DOM load
document.addEventListener('DOMContentLoaded', function() {
    DarkMode.init();
    i18n.init();
});